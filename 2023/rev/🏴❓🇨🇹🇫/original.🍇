๐ญ this is a slightly modified original version that has better debug output and was used for testing

๐ ๐
    ๐ ๐คโถ๏ธ ๐ค โ๏ธ๐๐กโถ๏ธ๐๐ผ โ๏ธ โก๏ธ input

    ๐๐ 256 โ๏ธ โก๏ธ d
    ๐ w ๐inputโ๏ธ ๐ 
        ๐ป d ๐ก ๐ข w โ๏ธ 2 โ๏ธ โ๏ธ
    ๐

    ๐๐ก d โ๏ธโ๏ธ โก๏ธ w

    ๐๐จ๐๐ข๐โ๏ธโก๏ธ ๐๏ธ๐l
    ๐๐จl 16 โ๏ธโก๏ธ ๐๏ธ๐v
    ๐๐จl 16 โ๏ธโก๏ธ ๐๏ธ๐h

    โช๏ธ ๐wโ โถ256 ๐
        ๐๐คโโ๐คโ๏ธ
        ๐ช๐๐ป1โ๏ธ
    ๐

    ๐ญ ๐ ๐บ๐กw โ๏ธโ๏ธ
    ๐ญ ๐ ๐ก๐w โโ๏ธ โ๏ธ
    
    ๐ญ change this loop to use a counter for h and v seperately
    ๐ญ for each h, if w[i] == 0 & c_h != 0, add c_h to h[i//16], set c_h to 0
    ๐ญ for each v, if w[i] == 0 & c_v != 0, add c_v to v[i%16], set c_v to 0
    ๐ญ also added to lists at end of each 
    ๐i๐โฉ0 ๐w โโ๏ธ๐
        โช๏ธ i๐ฎ16 ๐ 0 ๐
            ๐๐ค๐คโ๏ธ
        ๐
        

        ๐ญ ๐๐ก๐ข๐ฝw i โ๏ธโ๏ธ โ 48 โ๏ธโ๏ธ
        ๐ญ ๐๐ค ๐คโ๏ธ
        ๐ญ ๐๐ก i๐ฎ16 โ๏ธโ๏ธ

        ๐ญ ๐ข๐ฝw i โ๏ธโ๏ธโ 48

        โช๏ธ ๐ข๐ฝw i โ๏ธโ๏ธโ 48 ๐ 1 ๐
            ๐ฝv i๐ฎ16 โ๏ธโก๏ธ๐๏ธl
            โช๏ธ ๐lโ ๐ 0 ๐๐ปl 0โ๏ธ๐

            ๐ฝl ๐lโโ1 โ๏ธโ1 โก๏ธ  ๐ฝl ๐lโโ1โ๏ธ
            lโก๏ธ๐ฝv i๐ฎ16 โ๏ธ

            ๐ฝh iโ16 โ๏ธโก๏ธ๐๏ธl
            โช๏ธ ๐lโ ๐ 0 ๐๐ปl 0โ๏ธ๐

            ๐ฝl ๐lโโ1 โ๏ธโ1 โก๏ธ  ๐ฝl ๐lโโ1โ๏ธ
            lโก๏ธ๐ฝh iโ16 โ๏ธ
        ๐
        ๐ ๐
            ๐ฝv i๐ฎ16 โ๏ธโก๏ธ๐๏ธl
            โช๏ธ โ๐lโ ๐ 0โ๏ธ ๐
                โช๏ธ โ๐ฝl ๐lโโ1 โ๏ธ ๐0โ๏ธ๐
                    ๐ปl 0โ๏ธ
                ๐
            ๐
            lโก๏ธ๐ฝv i๐ฎ16 โ๏ธ

            ๐ฝh iโ16 โ๏ธโก๏ธ๐๏ธl
            โช๏ธ โ๐lโ ๐ 0โ๏ธ ๐
                โช๏ธ โ๐ฝl ๐lโโ1 โ๏ธ ๐0โ๏ธ๐
                    ๐ปl 0โ๏ธ
                ๐
            ๐
            lโก๏ธ๐ฝh iโ16 โ๏ธ
        ๐

        ๐ญ โช๏ธ i๐ฎ16 ๐ 0 ๐
        ๐ญ     ๐๐ก๐ฝw i โ๏ธโ๏ธโ๏ธ
        ๐ญ     ๐ฝv i๐ฎ16 โ๏ธโก๏ธ๐๏ธl
        ๐ญ     ๐n l๐
        ๐ญ         ๐๐กnโ๏ธโ๏ธ
        ๐ญ         ๐๐ค ๐คโ๏ธ
        ๐ญ     ๐
        ๐ญ     ๐๐ค๐คโ๏ธ
        ๐ญ ๐
        ๐ญ ๐ฝh iโ16 โ๏ธ โ ๐ข๐ฝw i โ๏ธโ๏ธ โ48 โก๏ธ ๐ฝh iโ16 โ๏ธ
        ๐ญ ๐ฝv i๐ฎ16 โ๏ธ โ ๐ข๐ฝw i โ๏ธโ๏ธ โ48 โก๏ธ ๐ฝv i๐ฎ16 โ๏ธ

        ๐ ๐ก๐ฝw i โ๏ธ โ 48 โ๏ธโ๏ธ
    ๐
    ๐i ๐โฉ0 16โ๏ธ๐
        ๐ฝv iโ๏ธโก๏ธ๐๏ธl
        โช๏ธ๐lโ โถ 0 ๐ค ๐ฝl ๐lโโ1โ๏ธ๐ 0๐
            ๐ผlโ๏ธ
        ๐
        lโก๏ธ๐ฝv iโ๏ธ

        ๐ฝh iโ๏ธโก๏ธ๐๏ธl
        โช๏ธ๐lโ โถ 0 ๐ค ๐ฝl ๐lโโ1โ๏ธ๐ 0๐
            ๐ผlโ๏ธ
        ๐
        lโก๏ธ๐ฝh iโ๏ธ
    ๐

    ๐๐ค๐คโ๏ธ
    ๐๐ค---๐คโ๏ธ
    ๐i ๐โฉ0 16โ๏ธ๐
        ๐n ๐ฝv i๐ฎ16โ๏ธ๐
            ๐๐กnโ๏ธโ๏ธ
            ๐๐ค ๐คโ๏ธ
        ๐
        ๐๐ค๐คโ๏ธ
    ๐
    ๐๐ค---๐คโ๏ธ
    ๐i ๐โฉ0 16โ๏ธ๐
        ๐n ๐ฝh i๐ฎ16โ๏ธ๐
            ๐๐กnโ๏ธโ๏ธ
            ๐๐ค ๐คโ๏ธ
        ๐
        ๐๐ค๐คโ๏ธ
    ๐

    ๐ฟ๐ฟ1 1 1 2 1๐๐ฟ1 2 10๐๐ฟ2 3 2 1 2๐๐ฟ4 3 1 1๐๐ฟ2 4 4๐๐ฟ2 1 5 1๐๐ฟ2 2 1 3 2๐๐ฟ4 6 1 1๐๐ฟ1 1 2 1 2 2๐๐ฟ2 2 5 1๐๐ฟ1 1 3 5 1๐๐ฟ1 1 2 2 1 3๐๐ฟ2 1 2 3๐๐ฟ2 5 7๐๐ฟ1 2 6 1๐๐ฟ1 3 1 3 3๐๐ โก๏ธ vc

    ๐ฟ๐ฟ2 3 2 3๐๐ฟ4 1 2๐๐ฟ1 4 1 4 1๐๐ฟ3 3 3๐๐ฟ1 1 1 2 3๐๐ฟ1 4 5 1๐๐ฟ2 1 4 3๐๐ฟ7 1 2๐๐ฟ1 3 2 2 2๐๐ฟ4 3 2 3๐๐ฟ3 3 7๐๐ฟ1 3 3 3๐๐ฟ4 3 1๐๐ฟ2 1 2 7๐๐ฟ2 3 1 3 1๐๐ฟ3 7 1๐๐โก๏ธ hc

    ๐๏ธ๐f๐ข
    0โก๏ธ๐๏ธf
    ๐i ๐โฉ0 16โ๏ธ๐
        โช๏ธ ๐ฝvc iโ๏ธ ๐ ๐ฝv iโ๏ธ๐
            f โฌ๏ธโ 1
        ๐

        โช๏ธ ๐ฝhc iโ๏ธ ๐ ๐ฝh iโ๏ธ ๐
            f โฌ๏ธโ 1
        ๐
    ๐
    ๐ญ ๐๐กfโ๏ธโ๏ธ

    โช๏ธf ๐ 32 ๐๐๐คโ๐คโ๏ธ๐
    ๐๐๐๐คโโ๐คโ๏ธ๐
๐